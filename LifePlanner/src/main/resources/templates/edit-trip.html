<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/commons :: head}">
    <title th:text="${pageTitle}"></title>
</head>
<body>
<header>
    <nav class="books-nav">
        <div class="books-header-left">
            <p class="back-to-books">
                <a href="/trips/travel">
                    <img src="https://img.icons8.com/?size=100&id=46652&format=png&color=000000"
                         alt="Back Icon" width="45" height="45"/>
                    Back to My Travel Plans</a>
            </p>
        </div>
        <div class="books-header-right">
            <a href="/home" class="back-home">
                <img src="https://img.icons8.com/?size=100&id=42814&format=png&color=000000"
                     alt="Home Icon" width="45" height="45"/>
                Back to Home
            </a>
        </div>
    </nav>
</header>
<main class="container">
    <section class="add-book-container">
        <form class="add-book-form" th:action="@{'/trips/' + ${trip.id} + '/edit'}" method="post" th:object="${editTravelRequest}">
            <h3>Edit Trip</h3>

            <!-- Trip Status Dropdown -->
            <div class="form-group">
                <label for="trip-status">Edit Trip Status</label>
                <select id="trip-status" name="tripStatus" required th:field="*{tripStatus}">
                    <option value="">-- Select Trip Status --</option>
                    <option th:each="tripStatus : ${T(lifeplanner.travel.model.TripStatus).values()}"
                            th:value="${tripStatus}"
                            th:text="${tripStatus.label}">
                    </option>
                </select>
                <p class="error-message-add-book" th:if="${#fields.hasErrors('tripStatus')}" th:errors="*{tripStatus}"></p>
            </div>

            <!-- Trip Name -->
            <div class="form-group">
                <label for="trip-name">Edit Trip Name</label>
                <input type="text" id="trip-name" name="tripName" placeholder="Enter trip name" required th:field="*{tripName}">
                <p class="error-message-add-book" th:if="${#fields.hasErrors('tripName')}" th:errors="*{tripName}"></p>
            </div>

            <!-- Destination -->
            <div class="form-group">
                <label for="destination">Edit Destination</label>
                <input type="text" id="destination" name="destination" placeholder="Enter destination" required th:field="*{destination}">
                <p class="error-message-add-book" th:if="${#fields.hasErrors('destination')}" th:errors="*{destination}"></p>
            </div>

            <!-- Start Date -->
            <div class="form-group">
                <label for="start-date">Edit Start Date</label>
                <input type="date" id="start-date" name="startDate" required th:field="*{startDate}">
                <p class="error-message-add-book" th:if="${#fields.hasErrors('startDate')}" th:errors="*{startDate}"></p>
            </div>

            <!-- End Date -->
            <div class="form-group">
                <label for="end-date">Edit End Date</label>
                <input type="date" id="end-date" name="endDate" required th:field="*{endDate}">
                <p class="error-message-add-book" th:if="${#fields.hasErrors('endDate')}" th:errors="*{endDate}"></p>
            </div>

            <!-- Trip Type Dropdown -->
            <div class="form-group">
                <label for="trip-type">Edit Trip Type</label>
                <select id="trip-type" name="tripType" th:field="*{tripType}">
                    <option value="" disabled selected>-- Select Trip Type --</option>
                    <option th:each="tripType : ${T(lifeplanner.travel.model.TripType).values()}"
                            th:value="${tripType}"
                            th:text="${tripType.label}">
                    </option>
                </select>
                <p class="error-message-add-book" th:if="${#fields.hasErrors('tripType')}" th:errors="*{tripType}"></p>
            </div>

            <!-- Accommodation -->
            <div class="form-group">
                <label for="accommodation">Edit Accommodation</label>
                <input type="text" id="accommodation" name="accommodation" placeholder="Enter accommodation" th:field="*{accommodation}">
                <p class="error-message-add-book" th:if="${#fields.hasErrors('accommodation')}" th:errors="*{accommodation}"></p>
            </div>

            <!-- Transportation Dropdown -->
            <div class="form-group">
                <label for="transportation">Edit Transportation</label>
                <select id="transportation" name="transportation" th:field="*{transportationType}">
                    <option value="">-- Select Transportation --</option>
                    <option th:each="transportation : ${T(lifeplanner.travel.model.TransportationType).values()}"
                            th:value="${transportation}"
                            th:text="${transportation.label}">
                    </option>
                </select>
                <p class="error-message-add-book" th:if="${#fields.hasErrors('transportationType')}" th:errors="*{transportationType}"></p>
            </div>

            <!-- Notes -->
            <div class="form-group">
                <label for="notes">Edit Notes</label>
                <textarea id="notes" name="notes" placeholder="Type details..." rows="4" th:field="*{notes}"></textarea>
                <p class="error-message-add-book" th:if="${#fields.hasErrors('notes')}" th:errors="*{notes}"></p>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="add-book-btn">Save Trip</button>

        </form>
    </section>
</main>

<footer th:replace="~{fragments/commons::footer}"></footer>

</body>
</html>